---
id: https://w3id.org/genestorian/ShareYourCloning_LinkML
name: ShareYourCloning_LinkML
title: ShareYourCloning_LinkML
description: |-
  A LinkML data model for ShareYourCloning
license: MIT
see_also:
  - https://genestorian.github.io/ShareYourCloning_LinkML

prefixes:
  shareyourcloning_linkml: https://w3id.org/genestorian/ShareYourCloning_LinkML/
  linkml: https://w3id.org/linkml/
  biolink: https://w3id.org/biolink/
  schema: http://schema.org/
  PATO: http://purl.obolibrary.org/obo/PATO_
  example: https://example.org/
  OBI: http://purl.obolibrary.org/obo/OBI_
default_prefix: shareyourcloning_linkml
default_range: string

imports:
  - linkml:types

classes:
  NamedThing:
    slots:
      - id
    class_uri: schema:Thing

  Source:
    is_a: NamedThing
    abstract: true
    description: >-
      Represents the source of a sequence
    slots:
      - input
      - output
      - type
    attributes:
      kind:
        required: true
        description: >-
          The kind entity (always equal to "source"). Should probably be removed.
        range: string

  ManuallyTypedSource:
    is_a: Source
    description: >-
      Represents the source of a sequence that is manually typed by the user
    attributes:
      - user_input:
          range: string
          pattern: ^[acgtACGT]+$
    rules:
      - postconditions:
          slot_conditions:
            type:
              any_of:
                - equals_string: "manually_typed"

  UploadedFileSource:
    is_a: Source
    description: >-
      Represents the source of a sequence that is uploaded as a file
    attributes:
      - file_name:
          range: string
          description: >-
            The name of the file
      - index_in_file:
          range: integer
          description: >-
            The index of the sequence in the file
      - file_format:
          range: SequenceFileFormat
          description: >-
            The format of the file
    rules:
      - postconditions:
          slot_conditions:
            type:
              any_of:
                - equals_string: file

  RepositoryIdSource:
    is_a: Source
    description: >-
      Represents the source of a sequence that is identified by a repository id
    attributes:
      - repository_name:
          range: RepositoryName
          required: true
      - repository_id:
          range: string
          description: >-
            The id of the sequence in the repository
          required: true
    # TODO: Check which one works
    slot_conditions:
      type:
        any_of:
          - equals_string: repository_id
    slot_usage:
      type:
        ifabsent: SourceType.repository_id
    rules:
      - postconditions:
          slot_conditions:
            type:
              any_of:
                - equals_string: repository_id

  GenomeCoordinatesSource:
    is_a: Source
    description: >-
      Represents the source of a sequence that is identified by genome coordinates, requested from NCBI
    attributes:
      - assembly_accession:
          range: string
          description: >-
            The accession of the assembly
          required: false
      - sequence_accession:
          range: string
          description: >-
            The accession of the sequence
          required: true
      - locus_tag:
          range: string
          description: >-
            The locus tag of the sequence
          required: false
      - gene_id:
          range: integer
          description: >-
            The gene id of the sequence
          required: false
      - start:
          range: integer
          description: >-
            The starting coordinate (1-based) of the sequence in the sequence accession
          required: true
      - stop:
          range: integer
          description: >-
            The ending coordinate (1-based) of the sequence in the sequence accession
          required: true
      - strand:
          range: integer
          description: >-
            The strand of the sequence in the sequence accession, should be 1 or -1
          required: true
    rules:
      - postconditions:
          slot_conditions:
            type:
              any_of:
                - equals_string: "repository_id"

slots:
  id:
    identifier: true
    slot_uri: schema:identifier
    range: integer
    description: A unique identifier for a thing
  restriction_enzyme:
    exact_mappings:
      - OBI:0000732
    range: string
  input:
    required: false
    description: >-
      Identifiers of the sequences that are an input to this source.
      If the source represents external import of a sequence, it's empty.
    range: integer
    multivalued: true
  output:
    required: false
    description: >-
      Identifier of the sequence that is the output of this source.
    range: integer
  type:
    required: true
    description: >-
      The type of the source
    range: SourceType
enums:
  RepositoryName:
    permissible_values:
      addgene:
        description: >-
          Addgene
      genbank:
        description: >-
          GenBank
  SourceType:
    permissible_values:
      repository_id:
      file:
      restriction:
      ligation:
      PCR:
      homologous_recombination:
      gibson_assembly:
      restriction_and_ligation:
      genome_coordinates:
      manually_typed:
  SequenceFileFormat:
    permissible_values:
      fasta:
      genbank:
      snapgene:
